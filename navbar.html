<!-- NAVBAR CON LOGIN DE GOOGLE -->
<nav class="nav container">
  <!-- LOGO -->
  <div class="nav__logo">
    <a href="index.html">
      <img src="./images/la-luz-de-la-verdad-high-resolution-logo-transparent (23).png" alt="La Luz de la Verdad" class="nav__logo-img">
    </a>
  </div>

  <!-- MEN√ö DE ENLACES -->
  <ul class="nav__link nav__link--menu" id="navMenu">
    <li class="nav__items"><a href="index.html" class="nav__links">Inicio</a></li>

    <!-- Fe y Ciencia -->
    <li class="nav__items nav__dropdown">
      <a href="fe_y_ciencia.html" class="nav__links">Fe y Ciencia ‚ñæ</a>
      <ul class="nav__submenu">
        <li><a href="creacion_fe_y_ciencia.html" class="nav__links">¬øCreaci√≥n o Evoluci√≥n?</a></li>
        <li><a href="evidencias_diluvio.html" class="nav__links">Evidencias del Diluvio</a></li>
        <li><a href="biblia_dinosaurios.html" class="nav__links">La Biblia y los Dinosaurios</a></li>
        <li><a href="historicidad_biblia.html" class="nav__links">La Historicidad de la Biblia</a></li>
      </ul>
    </li>

    <!-- Doctrinas -->
    <li class="nav__items nav__dropdown">
      <a href="doctrinas.html" class="nav__links">Doctrinas ‚ñæ</a>
      <ul class="nav__submenu">
        <li><a href="justificacion_fe.html" class="nav__links">Justificaci√≥n por la Fe</a></li>
        <li><a href="deidad.html" class="nav__links">La Deidad</a></li>
        <li><a href="ley_de_dios.html" class="nav__links">La Ley de Dios</a></li>
        <li><a href="estado_muertos.html" class="nav__links">El Estado de los Muertos</a></li>
        <li><a href="santuario.html" class="nav__links">El Santuario</a></li>
        <li><a href="reforma_prosalud.html" class="nav__links">Reforma Prosalud</a></li>
        <li><a href="espiritu_profecia.html" class="nav__links">El Esp√≠ritu de Profec√≠a</a></li>
      </ul>
    </li>

    <!-- Profec√≠as -->
    <li class="nav__items nav__dropdown">
      <a href="Profecias.html" class="nav__links">Profec√≠as ‚ñæ</a>
      <ul class="nav__submenu">
        <li><a href="profecias_daniel.html" class="nav__links">Profec√≠as de Daniel</a></li>
        <li><a href="profecias_apocalipsis.html" class="nav__links">Profec√≠as del Apocalipsis</a></li>
        <li><a href="eventos_finales.html" class="nav__links">Los Eventos Finales</a></li>
      </ul>
    </li>

    <!-- Recursos -->
    <li class="nav__items"><a href="recursos.html" class="nav__links">Recursos</a></li>

    <!-- BOT√ìN DE LOGIN CON GOOGLE -->
    <li class="nav__items">
<a href="login.html" class="nav__login-icon" title="Iniciar sesi√≥n">üë§</a>
    </li>

    <!-- Cerrar men√∫ hamburguesa -->
    <img src="./images/close.svg" class="nav__close" id="navClose" alt="Cerrar men√∫">
  </ul>

  <!-- MEN√ö HAMBURGUESA -->
  <div class="nav__menu" id="navToggle">
    <span style="font-size: 30px; color: #0d1d3e;">‚ò∞</span>
  </div>
</nav>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-firestore.js"></script>

<script>
  // Configuraci√≥n de Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyBH_pACwjd_2I71JfcvNGhK4mXziFqYpvk",
    authDomain: "laluzdelaverdad-73557.firebaseapp.com",
    projectId: "laluzdelaverdad-73557",
    storageBucket: "laluzdelaverdad-73557.appspot.com",
    messagingSenderId: "1014427093678",
    appId: "1:1014427093678:web:073147b56ae0defeeefb3f"
  };

  // Inicializa Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
  const provider = new firebase.auth.GoogleAuthProvider();

  const loginBtn = document.getElementById("loginBtn");

  if (loginBtn) {
    loginBtn.addEventListener("click", () => {
      auth.signInWithPopup(provider)
        .then(result => {
          const user = result.user;
          loginBtn.innerText = user.displayName.split(' ')[0];

          db.collection("usuarios").doc(user.uid).set({
            nombre: user.displayName,
            email: user.email,
            foto: user.photoURL
          });
        })
        .catch(error => {
          console.error("Error al iniciar sesi√≥n:", error);
        });
    });

    auth.onAuthStateChanged(user => {
      if (user) {
        loginBtn.innerText = user.displayName.split(' ')[0];
      }
    });
  }
</script>
